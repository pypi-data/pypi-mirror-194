(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7825],{85685:(e,t,o)=>{var n={"./beige.css":[61444,1444],"./black.css":[32513,2513],"./blood.css":[58521,8521],"./fonts/league-gothic/league-gothic.css":[59866,4948],"./fonts/source-sans-pro/source-sans-pro.css":[92974,2974],"./league.css":[80720,720],"./moon.css":[16680,6680],"./night.css":[41065,1065],"./serif.css":[88311,8311],"./simple.css":[12582,2582],"./sky.css":[55466,5466],"./solarized.css":[43772,3772],"./white.css":[84574,4574]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return o.e(t[1]).then((()=>o.t(i,23)))}i.keys=()=>Object.keys(n),i.id=85685,e.exports=i},87825:(e,t,o)=>{"use strict";o.r(t),o.d(t,{IRiseShell:()=>u,RiseApp:()=>h,RiseShell:()=>g,default:()=>R});var n={};o.r(n),o.d(n,{default:()=>S});var i=o(24697),r=o(75677),l=o(79013),s=o(9056),a=o(79645),d=o(62390),c=o(42901);const u=new a.Token("jupyterlab-rise-application:IRiseShell");class g extends c.Widget{constructor(){super(),this._updated=new d.Signal(this),this.layout=new c.BoxLayout,this.id="main",this._currentWidget=null}get updated(){return this._updated}activateById(e){}add(e,t,o){this.layout.widgets.length>0||"rise"!==t||(c.BoxLayout.setStretch(e,1),this.layout.addWidget(e),this._currentWidget=e)}get currentWidget(){return this._currentWidget}widgets(e){return(0,s.iter)(this.layout.widgets)}onUpdateRequest(e){super.onUpdateRequest(e),this._updated.emit()}}class h extends i.JupyterFrontEnd{constructor(e={}){var t,o;if(super({...e,shell:null!==(t=e.shell)&&void 0!==t?t:new g}),this.name="Rise",this.namespace=this.name,this.version=null!==(o=l.PageConfig.getOption("appVersion"))&&void 0!==o?o:"unknown",e.mimeExtensions)for(const t of(0,r.as)(e.mimeExtensions))this.registerPlugin(t)}get paths(){return{urls:{base:l.PageConfig.getOption("baseUrl"),notFound:l.PageConfig.getOption("notFoundUrl"),app:l.PageConfig.getOption("appUrl"),static:l.PageConfig.getOption("staticUrl"),settings:l.PageConfig.getOption("settingsUrl"),themes:l.PageConfig.getOption("themesUrl"),doc:l.PageConfig.getOption("docUrl"),translations:l.PageConfig.getOption("translationsApiUrl")},directories:{appSettings:l.PageConfig.getOption("appSettingsDir"),schemas:l.PageConfig.getOption("schemasDir"),static:l.PageConfig.getOption("staticDir"),templates:l.PageConfig.getOption("templatesDir"),themes:l.PageConfig.getOption("themesDir"),userSettings:l.PageConfig.getOption("userSettingsDir"),serverRoot:l.PageConfig.getOption("serverRoot"),workspaces:l.PageConfig.getOption("workspacesDir")}}}registerPluginModule(e){let t=e.default;Object.prototype.hasOwnProperty.call(e,"__esModule")||(t=e),Array.isArray(t)||(t=[t]),t.forEach((e=>{try{this.registerPlugin(e)}catch(e){console.error(e)}}))}registerPluginModules(e){e.forEach((e=>{this.registerPluginModule(e)}))}}var m,f=o(27278),b=o(99744),p=o(94048),v=o(55363),k=o(64859),C=o(59349);!function(e){e.riseSmartExec="RISE:smart-exec",e.riseFirstSlide="RISE:firstSlide",e.riseLastSlide="RISE:lastSlide",e.riseToggleOverview="RISE:toggleOverview",e.riseToggleAllButtons="RISE:toggleAllRiseButtons",e.riseFullScreen="RISE:fullscreenHelp",e.riseHelp="RISE:riseHelp",e.riseChalkboardClear="RISE:chalkboard-clear",e.riseChalkboardReset="RISE:chalkboard-reset",e.riseChalkboardToggle="RISE:chalkboard-toggleChalkboard",e.riseChalkboardToggleNotes="RISE:chalkboard-toggleNotesCanvas",e.riseChalkboardColorPrev="RISE:chalkboard-colorPrev",e.riseChalkboardColorNext="RISE:chalkboard-colorNext",e.riseChalkboardDownload="RISE:chalkboard-download",e.riseNotesOpen="RISE:notes-open",e.riseShowConfig="RISE:show-configuration"}(m||(m={}));const _={id:"rise-extension:opener",autoStart:!0,requires:[p.IDocumentManager],optional:[v.ISettingRegistry,k.ITranslator,f.ICommandPalette],activate:(e,t,o,n,i)=>{var r,s;const a=(null!=n?n:k.nullTranslator).load("rise"),c=new URL(window.location.toString()),u=parseInt(null!==(r=c.searchParams.get("activeCellIndex"))&&void 0!==r?r:"0",10);c.searchParams.delete("activeCellIndex"),c.searchParams.delete("fullscreen"),window.history.pushState(null,"",c.toString()),Promise.all([null!==(s=null==o?void 0:o.load("jupyterlab-rise:plugin"))&&void 0!==s?s:Promise.resolve(null),e.started,e.restored]).then((async([o])=>{const n=l.PageConfig.getOption("notebookPath"),r=t.open(n);w.registerCommands(e.commands,a),i&&[m.riseFullScreen,m.riseHelp,m.riseNotesOpen,m.riseFirstSlide,m.riseLastSlide,m.riseShowConfig,m.riseChalkboardToggle,m.riseChalkboardClear,m.riseChalkboardReset,m.riseChalkboardColorNext,m.riseChalkboardColorPrev].forEach((e=>{i.addItem({command:e,category:"Rise"})})),r.context.ready.then((async()=>{var t,i,l;await b.Mode.ensure(r.content.codeMimetype),"dirty"===(l={name:"dirty",newValue:null===(i=null===(t=r.model)||void 0===t?void 0:t.dirty)||void 0===i||i,oldValue:!0}).name&&!1===l.newValue&&l.oldValue&&(console.log(`Convert notebook ${n} to slideshow.`),r.content.activeCellIndex=u,w.loadConfiguration(o,r.model),w.revealMode(r,e.commands,a).catch((e=>{console.error("Fail to update the notebook with Reveal.JS.",e)})),d.Signal.disconnectAll(void 0))})),r.toolbar.hide(),e.shell.add(r,"rise")}))}};var w;!function(e){const t={autolaunch:!1,start_slideshow_at:"selected",auto_select:"code",auto_select_fragment:!0,show_buttons_on_startup:!0,header:void 0,footer:void 0,backimage:void 0,overlay:void 0,restore_timeout:500,auto_select_timeout:450,sync_timeout:250,theme:"simple",transition:"linear",slideNumber:!0,width:"100%",height:"100%",controls:!0,progress:!0,history:!0,scroll:!1,center:!0,margin:.1,minScale:1,help:!1,enable_chalkboard:!1,enable_leap_motion:!1};let n,i={...t};function r(){}function s(e){const t=(e.metadata.get("slideshow")||{}).slide_type;return void 0===t||"-"===t?"":t}function a(e){return"slide"===s(e)}function d(e){return"subslide"===s(e)}function u(e){return"fragment"===s(e)}function g(e){return"skip"===s(e)}function h(e){return"notes"===s(e)}function b(e){const t=i.auto_select,o="code"===t?"code":"first"===t?null:void 0;if(void 0===o)return;const r=i.auto_select_fragment;setTimeout((()=>{const t=function(e,t=null,o=!1){if(!e)return null;const[i,r,l]=function(){const e=n.getCurrentSlide();if(!e)return[0,0,0];const t=e.id.split("-");return[Number(t[1]),Number(t[2]),e.querySelectorAll("div.fragment.visible").length]}();let[s,c,m]=[-1,0,0];const f=e.cells;for(let e=0;e<f.length;e++){const n=f.get(e);if(!(g(n)||h(n)||(a(n)&&(s+=1,c=0),s=Math.max(s,0),d(n)&&(c+=1),s!==i||c!==r)||(u(n)&&(m+=1),o&&m!==l||null!==t&&n.type!==t)))return e}return null}(e.model,o,r);t&&(e.activeCellIndex=t)}),i.auto_select_timeout)}function p(){var e,t;const o=i.scroll,n=document.querySelector(".reveal"),r=null!==(t=null===(e=document.querySelector("section.present"))||void 0===e?void 0:e.querySelectorAll("section"))&&void 0!==t?t:[];if(!0===o&&n){const e=.95*n.getBoundingClientRect().height;[...r].filter((t=>t.getBoundingClientRect().height>e)).forEach((e=>{e.style.height="calc(95vh)",e.style.overflowY="scroll",e.style.marginTop="20px"}))}}e.loadConfiguration=function(e=null,o=null){var n,r,l;const s=null!==(n=null==e?void 0:e.composite)&&void 0!==n?n:{};i={...t,...s,...null!==(r=null==o?void 0:o.metadata.get("livereveal"))&&void 0!==r?r:{},...null!==(l=null==o?void 0:o.metadata.get("rise"))&&void 0!==l?l:{}}},e.registerCommands=function(e,t){e.addCommand(m.riseSmartExec,{caption:t.__("execute cell, and move to the next if on the same slide"),execute:r}),e.addCommand(m.riseShowConfig,{label:t.__("Dump RISE configuration"),caption:t.__("Output RISE configuration in console, for debugging mostly"),execute:()=>{console.log("RISE configuration",i)}});const o={};o[m.riseFirstSlide]=()=>n.slide(0),o[m.riseLastSlide]=()=>n.slide(Number.MAX_VALUE),o[m.riseToggleOverview]=()=>n.toggleOverview(),o[m.riseToggleAllButtons]=k,o[m.riseFullScreen]=()=>{!async function(){var e;document.fullscreenElement?document.exitFullscreen&&await document.exitFullscreen():await(null===(e=document.querySelector("div.reveal"))||void 0===e?void 0:e.requestFullscreen())}()},o[m.riseHelp]=()=>{y(e,t)},o[m.riseChalkboardClear]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.clear()},o[m.riseChalkboardReset]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.reset()},o[m.riseChalkboardToggle]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.toggleChalkboard()},o[m.riseChalkboardToggleNotes]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.toggleNotesCanvas()},o[m.riseChalkboardColorNext]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.colorNext()},o[m.riseChalkboardColorPrev]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.colorPrev()},o[m.riseChalkboardDownload]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.download()},o[m.riseNotesOpen]=()=>{n.getPlugin("notes").open()};const l=R(t);for(const t of Object.keys(o)){const n=o[t];e.addCommand(t,{label:l[t],caption:l[t],execute:n})}};let v=null;function k(){for(const e of["#help_b","#toggle-chalkboard","#toggle-notes"]){const t=document.querySelector(e);t&&(t.style.visibility="hidden"===t.style.visibility?"visible":"hidden")}}let _=!1;function w(e){e.deselectAll()}async function y(e,t){const o=R(t);function n(t){const n=e.keyBindings.find((e=>e.command===t));return`<li><kbd>${n?C.CommandRegistry.formatKeystroke(n.keys.join(" ")):""}</kbd> : ${o[t]}</li>`}const i=document.createElement("div");i.insertAdjacentHTML("afterbegin",`<p>\n  <ul>\n    ${n(m.riseHelp)}\n    <li><kbd>${C.CommandRegistry.formatKeystroke("Alt R")}</kbd>: ${t.__("enter/exit RISE")}</li>\n    <li><kbd>${C.CommandRegistry.formatKeystroke("Space")}</kbd>: ${t.__("next")}</li>\n    <li><kbd>${C.CommandRegistry.formatKeystroke("Shift Space")}</kbd>: ${t.__("previous")}</li>\n    <li><kbd>${C.CommandRegistry.formatKeystroke("Shift Enter")}</kbd>: ${t.__("eval and select next cell if visible")}</li>\n    ${n(m.riseFirstSlide)}\n    ${n(m.riseLastSlide)}\n    ${n(m.riseToggleOverview)}\n    ${n(m.riseNotesOpen)}\n    <li><kbd>${C.CommandRegistry.formatKeystroke(",")}</kbd>: ${o[m.riseToggleAllButtons]}</li>\n    <li><kbd>${C.CommandRegistry.formatKeystroke("/")}</kbd>: ${t.__("black screen")}</li>\n    <li><strong>${t.__("less useful")}:</strong></li>\n    <ul>\n      <li><kbd>${C.CommandRegistry.formatKeystroke("PageUp")}</kbd>: ${t.__("up")}</li>\n      <li><kbd>${C.CommandRegistry.formatKeystroke("PageDown")}</kbd>: ${t.__("down")}</li>\n      <li><kbd>${C.CommandRegistry.formatKeystroke("ArrowLeft")}</kbd>: ${t.__("left")} <em>(${t.__("note: Space preferred")})</em></li>\n      <li><kbd>${C.CommandRegistry.formatKeystroke("ArrowRight")}</kbd>: ${t.__("right")} <em>(${t.__("note: Shift Space preferred")})</em></li>\n    </ul>\n    <li><strong>${t.__("with chalkboard enabled")}:</strong></li>\n    <ul>\n      ${n(m.riseChalkboardToggle)}\n      ${n(m.riseChalkboardToggleNotes)}\n      ${n(m.riseChalkboardColorNext)}\n      ${n(m.riseChalkboardColorPrev)}\n      ${n(m.riseChalkboardDownload)}\n      ${n(m.riseChalkboardReset)}\n      ${n(m.riseChalkboardClear)}\n    </ul>\n  </ul>\n  ${t.__("NOTE: of course you have to use these shortcuts in command mode.")}\n</p>`),await(0,f.showDialog)({title:t.__("Reveal Shortcuts Help"),body:new c.Widget({node:i}),buttons:[f.Dialog.warnButton({label:t.__("OK")})]})}e.revealMode=async function(e,t,r){(async function(e,t){document.body.classList.add("rise-enabled");const r=e.content;e.addClass("reveal"),r.addClass("slides");const s=i.theme;document.body.classList.add(`theme-${s}`),await o(85685)(`./${s}.css`);const a=l.PathExt.dirname(e.sessionContext.path);document.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${l.PageConfig.getBaseUrl()}files/${a}/rise.css" id="rise-custom-css" />`);const d=l.PathExt.basename(e.sessionContext.path),c=d.lastIndexOf("."),u=`${a}/${-1===c?d:d.substr(0,c)}.css`;document.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${l.PageConfig.getBaseUrl()}files/${u}" id="rise-notebook-css" />`);const g=(await o.e(921).then(o.t.bind(o,20921,23))).default,h=["controls","progress","history","width","height","margin","minScale","transition","slideNumber","center","help"],m={help:!1,keyboard:{13:null,27:null,35:null,36:null,38:null,40:null,66:null,70:null,72:null,74:null,75:null,76:null,78:null,79:null,80:null,84:null,87:null,188:k},plugins:[]},f=(await o.e(2148).then(o.bind(o,72148))).default;m.plugins.push(f);for(const e of h)m[e]=i[e];var C;i.enable_chalkboard&&("chalkboard"in i&&(m.chalkboard=i.chalkboard),await o.e(3496).then(o.t.bind(o,73496,23)),await o.e(7025).then(o.t.bind(o,47025,23)),m.plugins.push(window.RevealChalkboard)),_?n.configure(m):(await g.initialize(m),n=g,_=!0),n.addEventListener("ready",(t=>{w(e.content),p(),b(e.content)})),n.addEventListener("slidechanged",(t=>{w(e.content),p(),b(e.content)})),n.addEventListener("fragmentshown",(t=>{b(e.content)})),n.addEventListener("fragmenthidden",(t=>{b(e.content)})),function(){var e;const t=document.querySelectorAll(".output"),o=null!==(e=window.MutationObserver)&&void 0!==e?e:window.WebKitMutationObserver;v=new o((function(e){e.forEach((e=>{e.addedNodes&&e.addedNodes.length&&(n.sync(),p())}))}));const i={childList:!0,characterData:!1,attributes:!1,subtree:!1};[...t].forEach((e=>{null==v||v.observe(e,i)}))}(),C=t,"selected"===i.start_slideshow_at?n.slide(C[0],C[1]):n.slide(0,0),p(),setTimeout((()=>n.sync()),i.sync_timeout),function(){var e;const t=i.overlay,o=i.header,n=i.footer,r=i.backimage;let l="";t?l=t:(o&&(l+=`<div id='rise-header' style='position: absolute; top: 0px;'>${o}</div>`),r&&(l+=`<img id='rise-backimage' style='width: 100%; height: 100%;' src='${r}' />`),n&&(l+=`<div id='rise-footer' style='position: absolute; bottom: 0px;'>${n}</div>`)),null===(e=document.querySelector("div.reveal"))||void 0===e||e.insertAdjacentHTML("beforeend",`<div id='rise-overlay'>${l}</div>`)}(),i.show_buttons_on_startup||setTimeout(k,2e3)})(e,function(e){if(!e.model)return[0,0];let t=-1,o=-1;function n(n){t++,o=-1;const i=document.createElement("section");return n?e.node.insertBefore(i,n.nextSibling):e.node.insertBefore(i,e.node.firstChild),i}function i(e){o++;const n=document.createElement("section");return n.id=`slide-${t}-${o}`,e.appendChild(n),n}function r(e){const t=document.createElement("div");return t.classList.add("fragment"),e.appendChild(t),t}let l=n(null),a=i(l),d=a;const c=e.activeCellIndex;let u=[0,0],g=!1;const h=e.model.cells;for(let m=0;m<h.length;m++){const f=s(h.get(m)),b=e.node.children[t+1];if(g?"slide"===f?(l=n(l),d=a=i(l)):"subslide"===f?d=a=i(l):"fragment"===f&&(d=r(a)):"notes"!==f&&"skip"!==f&&(g=!0),m===c&&(u=[t,o]),"notes"===f){const e=document.createElement("aside");e.classList.add("notes"),e.append(b),a.appendChild(e)}else d.appendChild(b);"skip"===f&&b.classList.add("reveal-skip")}return u}(e.content)),function(e,t,o){const n=document.createElement("i");n.setAttribute("id","help_b"),n.setAttribute("title",o.__("Reveal Shortcuts Help")),n.classList.add("fa-question","fa-4x","fa"),n.addEventListener("click",(()=>{y(t,o)})),e.node.insertAdjacentElement("afterend",n)}(e,t,r)};const S={};function R(e){return 0===Object.keys(S).length&&(S[m.riseFirstSlide]=e.__("jump to first slide"),S[m.riseLastSlide]=e.__("jump to last slide"),S[m.riseToggleOverview]=e.__("toggle overview"),S[m.riseToggleAllButtons]=e.__("show/hide buttons"),S[m.riseFullScreen]=e.__("show fullscreen help"),S[m.riseHelp]=e.__("show this help dialog"),S[m.riseChalkboardClear]=e.__("clear full size chalkboard"),S[m.riseChalkboardReset]=e.__("reset chalkboard data on current slide"),S[m.riseChalkboardToggle]=e.__("toggle full size chalkboard"),S[m.riseChalkboardToggleNotes]=e.__("toggle notes (slide-local)"),S[m.riseChalkboardColorNext]=e.__("cycle to next pen color"),S[m.riseChalkboardColorPrev]=e.__("cycle to previous pen color"),S[m.riseChalkboardDownload]=e.__("download recorded chalkboard drawing"),S[m.riseNotesOpen]=e.__("open speaker notes window")),S}}(w||(w={}));const y={id:"rise-extension:paths",autoStart:!0,provides:i.JupyterFrontEnd.IPaths,activate:e=>{if(!(e instanceof h))throw new Error(`${y.id} must be activated in Rise.`);return e.paths}},S=[y,_],R=n}}]);
//# sourceMappingURL=7825.js.map