import nutcracker as m

bytecode = b'\xfa\xfaRIQS\x01\x00\x00\x00\x04\x00\x00\x00\x04\x00\x00\x00TRAP\x10\x00\x00\x08\r\x00\x00\x00.\\example.nut\x10\x00\x00\x08\x04\x00\x00\x00mainTRAP\x02\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00TRAP\x10\x00\x00\x08\x06\x00\x00\x00\xe6\x90\x9c\xe7\xb4\xa2\x10\x00\x00\x08\x05\x00\x00\x00printTRAP\x10\x00\x00\x08\x04\x00\x00\x00this\x10\x00\x00\x08\x05\x00\x00\x00vargvTRAPTRAP\x10\x00\x00\x08\x01\x00\x00\x00b\x03\x00\x00\x00\x02\x00\x00\x00\x04\x00\x00\x00\x10\x00\x00\x08\x01\x00\x00\x00a\x02\x00\x00\x00\x01\x00\x00\x00\x04\x00\x00\x00\x10\x00\x00\x08\x05\x00\x00\x00vargv\x01\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00\x10\x00\x00\x08\x04\x00\x00\x00this\x00\x00\x00\x00\x00\x00\x00\x00\x05\x00\x00\x00TRAP\x01\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x01\x00\x00\x00\x03\x00\x00\x00\x02\x00\x00\x00TRAPTRAP\x8f\xaa\xaa?\x03\x02\x00\x00\x00\x00\x00\x00\x01\x03\x00\x00\x01\x00\x00\x00\x08\x04\x00\x05\x02\x00\x00\x00\n\x06\x00\x00\x04\x00\x00\x00\x06\xff\x05\x02\x00\x00\x00\x00\x17\xff\x00\x00TRAP\x07\x00\x00\x00\x00\x01\x00\x00\x00LIAT'
assert m.__version__ == '0.0.3'
assert m.decompile(bytecode) == b'local a = 1.333330;\nlocal b = "\xe6\x90\x9c\xe7\xb4\xa2";\nthis.print(a);\n'


assert m.decompile(m.compile(m.decompile(bytecode).decode())) == m.decompile(bytecode)